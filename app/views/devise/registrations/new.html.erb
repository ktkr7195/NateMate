<% provide(:title, Settings.titles[:new_registration]) %>

<div class="text-center">
  <h2 class="font-weight-bold"><%= Settings.registration_utils[:new] %></h2>
  <div class="form-group mt-5">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= render "devise/shared/error_messages", resource: resource %>

      <div class="avatar_prev">
        <% if user_avatar_valid?(@user)%>
          <%= image_tag current_user.avatar.url, id: :js_imgPrev,size:"200x200", class:"avatar-type-circle" %>
        <% else %>
          <%= image_tag asset_path("default.jpg"), id: :js_imgPrev,size:"200x200", class:"avatar-type-circle" %>
        <% end %>
      </div>

      <div class="field border-bottom mt-2">
        <label for="js_presentImg" class="btn btn-warning">
          <span><%= Settings.registration_utils[:select_image_file] %></span>
          <%= f.file_field :avatar, id: :js_presentImg, accept: 'image/jpeg,image/png', autofocus: true, class:"form-control-file", style: "display:none;" %><br />
        </label><br />
      </div>

      <div class="field border-bottom">
        <%= f.label :name %><br />
        <%= f.text_field :name, autofocus: true, class:"form-control border-0" %>
      </div>

      <div class="field border-bottom">
        <%= f.label :email %><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"form-control border-0" %>
      </div>

      <div class="field border-bottom">
        <%= f.label :password %>
        <% if @minimum_password_length %>
          <%= Settings.registration_utils[:validate_password_min_length] %>
        <% end %><br />
        <%= f.password_field :password, autocomplete: "new-password", class:"form-control border-0" %>
      </div>

      <div class="field border-bottom">
        <%= f.label :password_confirmation %><br />
        <%= f.password_field :password_confirmation, autocomplete: "new-password", class:"form-control border-0" %>
      </div>

      <div class="actions mt-3">
        <%= f.submit Settings.registration_utils[:confirm_new_account], { class:"btn btn-lg btn-warning" } %>
      </div>
    <% end %>
  </div>

</div>
